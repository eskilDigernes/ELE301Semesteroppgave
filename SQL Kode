CREATE TABLE "Brukerinfo" (
  "KortID" VARCHAR(4),
  "Pinkode" VARCHAR(4),
  "Etternavn" CHAR(15),
  "Fornavn" CHAR(15),
  "Epost" VARCHAR(30),
  "Startdato" TIMESTAMP NOT NULL,
  "Sluttdato" TIMESTAMP NOT NULL,
  PRIMARY KEY ("KortID")
);

CREATE TABLE "Kortleser" (
  "RomID" VARCHAR(4),
  "Lesernummer" VARCHAR(4),
  PRIMARY KEY ("RomID")
);

CREATE TABLE "Adgangsforesporsler" (
  "RomID" VARCHAR(4),
  "KortID" VARCHAR(4),
  "Adgang?" BOOL,
  "Tidspunkt" TIMESTAMP NOT NULL,
  PRIMARY KEY ("RomID", "Tidspunkt"),
  CONSTRAINT "FK_AdgangsForesporsler.Kortleser"
  FOREIGN KEY ("RomID")  
  REFERENCES "Kortleser"("RomID")
);

CREATE TABLE "AlarmLogg" (
  "RomID" VARCHAR(4),
  "KortID" VARCHAR(4),
  "AlarmID" INT,
  "Tidspunkt" TIMESTAMP NOT NULL,
  PRIMARY KEY ("Tidspunkt", "RomID"),
  CONSTRAINT "FK_AlarmLogg.KortID"
    FOREIGN KEY ("KortID")
      REFERENCES "Brukerinfo"("KortID")
);

CREATE TABLE "AlarmInfo" (
  "AlarmID" INT,
  "AlarmBeskrivelse" VARCHAR(30),
  PRIMARY KEY ("AlarmID")
);

